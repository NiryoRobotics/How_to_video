{"blocks":{"languageVersion":0,"blocks":[{"type":"variables_set","id":"r(;H2=;aJ`SkW2*N)$-.","x":-405,"y":-515,"fields":{"VAR":{"id":"HTmF``!iw@iFAdUTeC7*"}},"inputs":{"VALUE":{"block":{"type":"niryo_one_saved_pose","id":"vOQ{`x)JO.)[y|6tNM88","fields":{"SAVED_POSE_SELECTOR":"obs_pose_area"}}}},"next":{"block":{"type":"variables_set","id":"b}e(xHF{Jn2/mN,}g`+s","fields":{"VAR":{"id":"gkvmiuNVh-N*E:S~G8Qq"}},"inputs":{"VALUE":{"block":{"type":"niryo_one_saved_pose","id":"mBntnLa}O-%@--6B|X;P","fields":{"SAVED_POSE_SELECTOR":"obs_pose_area"}}}},"next":{"block":{"type":"variables_set","id":"0#gb^l.S]30/*u[A(uD$","fields":{"VAR":{"id":"9bIual^%bSUPq(mE:$T8"}},"inputs":{"VALUE":{"block":{"type":"niryo_one_saved_pose","id":"_`;ZGb9Zc^mh-jsH%SA!","fields":{"SAVED_POSE_SELECTOR":"obs_pose_area"}}}},"next":{"block":{"type":"variables_set","id":"#r6,_rl+$$S*jZ8-,ha?","fields":{"VAR":{"id":"q|!AKG25aOsRK(mzgbJ5"}},"inputs":{"VALUE":{"block":{"type":"niryo_one_saved_pose","id":"8eQn)Jf{,n^=-Fz.KA({","fields":{"SAVED_POSE_SELECTOR":"obs_pose_area"}}}},"next":{"block":{"type":"variables_set","id":"^}-dj}Ja8]:un5lfdE-A","fields":{"VAR":{"id":"_yuFkTa+#O8.O^M,nBMy"}},"inputs":{"VALUE":{"block":{"type":"niryo_one_saved_pose","id":"+djQrg=NM#PN.#sV(RG?","fields":{"SAVED_POSE_SELECTOR":"obs_pose_area"}}}},"next":{"block":{"type":"variables_set","id":"[C[(SQHjgQ1P%.7aKpbk","fields":{"VAR":{"id":"{aPvr_3NMDt)#+uG5Pjy"}},"inputs":{"VALUE":{"block":{"type":"niryo_one_saved_pose","id":"#h^kiv~jp]2?%#Uc]?fJ","fields":{"SAVED_POSE_SELECTOR":"obs_pose_area"}}}},"next":{"block":{"type":"niryo_one_update_tool","id":"-#Eu*/,S.qofxS[v9b4|","next":{"block":{"type":"niryo_one_conveyor_use","id":"7))]zDb:U(7tA|7(geVs","next":{"block":{"type":"controls_whileUntil","id":"3nhTp`jKAvY=d!0~;kv+","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"block":{"type":"logic_boolean","id":"/3Pol!F$De9}GB~NxH}Y","fields":{"BOOL":"TRUE"}}},"DO":{"block":{"type":"niryo_one_comment","id":"`kiyw{Z=N`T64TdsghCb","fields":{"COMMENT_TEXT":"Move to observation pose"},"next":{"block":{"type":"niryo_one_comment","id":"U~p*p9^|Ly_;v2eDe6(/","fields":{"COMMENT_TEXT":"Try to do a vision pick:"},"next":{"block":{"type":"controls_if","id":"vj`rDf%p)tOD0T?v)b6o","extraState":{"hasElse":true},"inputs":{"IF0":{"block":{"type":"niryo_one_vision_pick_w_pose","id":"Q*RzDrGlHLw;2iJ$)~Ck","inputs":{"COLOR_SWITCH":{"block":{"type":"niryo_one_vision_color","id":"mo4aumZY^IY*$j)!|WZW","fields":{"COLOR_SELECT":"ObjectColor.ANY"}}},"SHAPE_SWITCH":{"block":{"type":"niryo_one_vision_shape","id":"H%5I5GL8+e7fu8;sMX$f","fields":{"SHAPE_SELECT":"ObjectShape.ANY"}}},"OBSERVATION_POSE":{"block":{"type":"variables_get","id":"Tf}YGb:L~3{-86j_t{9@","fields":{"VAR":{"id":"HTmF``!iw@iFAdUTeC7*"}}}},"WORKSPACE":{"block":{"type":"niryo_one_workspace","id":"PuKx)QmBQn7FW{87%r[w","fields":{"WORKSPACE_SELECT":"Workspace_1"}}},"HEIGHT_OFFSET":{"block":{"type":"math_number","id":"xmPLEX?*rQ;qX#TjN_N-","fields":{"NUM":0}}}}}},"DO0":{"block":{"type":"niryo_one_move_pose_from_pose","id":"+2!34$x@=[W#3$VC4|z!","fields":{"MOVE_POSE_METHOD_SELECT":"MoveCommandType.POSE"},"inputs":{"POSE":{"block":{"type":"variables_get","id":"tJ|JGac-w9$JPH0|{nEl","fields":{"VAR":{"id":"{aPvr_3NMDt)#+uG5Pjy"}}}}},"next":{"block":{"type":"niryo_one_comment","id":"9-Jw}xC}gp%DYjCKyI(p","fields":{"COMMENT_TEXT":"If the pick is successful, then"},"next":{"block":{"type":"niryo_one_place_from_pose","id":"W1%3*~y_$y33WRNBIQV`","inputs":{"POSE":{"block":{"type":"variables_get","id":"`m%gW_xsq@7Z0oG!$kfn","fields":{"VAR":{"id":"9bIual^%bSUPq(mE:$T8"}}}}},"next":{"block":{"type":"niryo_one_move_pose_from_pose","id":"=o{T7rwdy-edE(:1q)4r","fields":{"MOVE_POSE_METHOD_SELECT":"MoveCommandType.POSE"},"inputs":{"POSE":{"block":{"type":"variables_get","id":"D_j|:Ny3WB[5uR7;.V{]","fields":{"VAR":{"id":"{aPvr_3NMDt)#+uG5Pjy"}}}}},"next":{"block":{"type":"niryo_one_comment","id":"kSVyff:NLCI_19ylf$_9","fields":{"COMMENT_TEXT":"start conveyor"},"next":{"block":{"type":"niryo_one_conveyor_control","id":"pu1jo54f;ZKZA16li-6q","fields":{"DIRECTION_SELECT":"ConveyorDirection.FORWARD"},"inputs":{"CONVEYOR_SWITCH":{"block":{"type":"niryo_one_conveyor_models","id":";%PI[F`Z_[3H.YWoEP-Y","fields":{"CONVEYOR_SELECT":"ConveyorID.ID_1"}}},"SPEED_PERCENT":{"block":{"type":"math_number","id":"O`m[fw@zN`4$WA!v~`59","fields":{"NUM":100}}}},"next":{"block":{"type":"niryo_one_comment","id":",XI)c=0wEh[zz%S/=ia(","fields":{"COMMENT_TEXT":"check if object detected by IR"},"next":{"block":{"type":"controls_whileUntil","id":"8=}ocdiLd{4+i|-{`WBL","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"block":{"type":"niryo_one_get_digital","id":"DJkdmn[jb1%*uDHLciZ5","fields":{"DIGITAL_ID":"DI5"}}},"DO":{"block":{"type":"niryo_one_sleep","id":"(t#(|kH=:WFxnR1,JWmV","inputs":{"SLEEP_TIME":{"block":{"type":"math_number","id":"|;yqTNYf!e.^AqMQgd)T","fields":{"NUM":0.1}}}}}}},"next":{"block":{"type":"niryo_one_comment","id":"j-g0:MY~05TH.Fi:{x=-","fields":{"COMMENT_TEXT":"if detected,stop conveyor and continue"},"next":{"block":{"type":"niryo_one_conveyor_stop","id":"SVyVeTpLFnxi`XZjv$Xw","inputs":{"CONVEYOR_SWITCH":{"block":{"type":"niryo_one_conveyor_models","id":"qBWmz-!g0J3FgR?mgVkZ","fields":{"CONVEYOR_SELECT":"ConveyorID.ID_1"}}}},"next":{"block":{"type":"niryo_one_comment","id":"LX:pd=)e_y71WOJa6vLZ","fields":{"COMMENT_TEXT":"vision pick from conveyor"},"next":{"block":{"type":"controls_if","id":"Zt!s)We/|o?JTfi5l2ur","inputs":{"IF0":{"block":{"type":"niryo_one_vision_pick_w_pose","id":"dnzYWz8^oDP0R;n;E}.q","inputs":{"COLOR_SWITCH":{"block":{"type":"niryo_one_vision_color","id":"#?i*uy)TIS,Mak#{=kbt","fields":{"COLOR_SELECT":"ObjectColor.ANY"}}},"SHAPE_SWITCH":{"block":{"type":"niryo_one_vision_shape","id":"bH9o.Z~p(U[|=m]/0amS","fields":{"SHAPE_SELECT":"ObjectShape.ANY"}}},"OBSERVATION_POSE":{"block":{"type":"variables_get","id":"+x=3pmaN+AO!;S1a#;@j","fields":{"VAR":{"id":"gkvmiuNVh-N*E:S~G8Qq"}}}},"WORKSPACE":{"block":{"type":"niryo_one_workspace","id":"{wX-^n{2)@x{y`G.EZQ)","fields":{"WORKSPACE_SELECT":"Workspace_1"}}},"HEIGHT_OFFSET":{"block":{"type":"math_number","id":"0J1k,eZ6p``c~a,g[Cq7","fields":{"NUM":0}}}}}},"DO0":{"block":{"type":"niryo_one_move_pose_from_pose","id":"Z:EnD1e4Jr8-%=vI0^K6","fields":{"MOVE_POSE_METHOD_SELECT":"MoveCommandType.POSE"},"inputs":{"POSE":{"block":{"type":"variables_get","id":"%5U!4g[hhG3G~tfrR!=m","fields":{"VAR":{"id":"{aPvr_3NMDt)#+uG5Pjy"}}}}},"next":{"block":{"type":"niryo_one_comment","id":"of!(KK%zaFh@D^_qa;m/","fields":{"COMMENT_TEXT":"place on ramp"},"next":{"block":{"type":"niryo_one_place_from_pose","id":"ToNFxYyNM3crRm)sqTw;","inputs":{"POSE":{"block":{"type":"variables_get","id":"7Difz+9G+Ndw_e,z8SB9","fields":{"VAR":{"id":"_yuFkTa+#O8.O^M,nBMy"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"ELSE":{"block":{"type":"niryo_one_move_pose_from_pose","id":"a|ER_GH-MC@y9grj|1|O","fields":{"MOVE_POSE_METHOD_SELECT":"MoveCommandType.POSE"},"inputs":{"POSE":{"block":{"type":"variables_get","id":",L3ksP+4Vj5)gW8x{xgk","fields":{"VAR":{"id":"{aPvr_3NMDt)#+uG5Pjy"}}}}},"next":{"block":{"type":"niryo_one_comment","id":"8|hh{3myEl/]]|uc1H21","fields":{"COMMENT_TEXT":"If no object on the workspace,take from ramp"},"next":{"block":{"type":"niryo_one_pick_from_pose","id":"ZZn1-aH*MX,ars0{^myY","inputs":{"POSE":{"block":{"type":"variables_get","id":"@TU2#{t^-15H$#-jwq;D","fields":{"VAR":{"id":"q|!AKG25aOsRK(mzgbJ5"}}}}},"next":{"block":{"type":"niryo_one_comment","id":"7~L543I8:dxGeqWtIhKa","fields":{"COMMENT_TEXT":"place on the vision workspace"},"next":{"block":{"type":"niryo_one_move_pose_from_pose","id":"zi[F0ozOxHj6sSgbT,A?","fields":{"MOVE_POSE_METHOD_SELECT":"MoveCommandType.POSE"},"inputs":{"POSE":{"block":{"type":"variables_get","id":"V3F$n(JI/(x:D_co/49f","fields":{"VAR":{"id":"{aPvr_3NMDt)#+uG5Pjy"}}}}},"next":{"block":{"type":"niryo_one_place_from_pose","id":"5(L6,B[9.Pb!Q)Z{?Dq)","inputs":{"POSE":{"block":{"type":"variables_get","id":"x?cJESw;aVCK5/PSHs2}","fields":{"VAR":{"id":"HTmF``!iw@iFAdUTeC7*"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}]},"variables":[{"name":"pose_area","id":"HTmF``!iw@iFAdUTeC7*"},{"name":"conveyor_area","id":"gkvmiuNVh-N*E:S~G8Qq"},{"name":"ramp_pick","id":"q|!AKG25aOsRK(mzgbJ5"},{"name":"ramp_place","id":"_yuFkTa+#O8.O^M,nBMy"},{"name":"intermediate","id":"{aPvr_3NMDt)#+uG5Pjy"},{"name":"place_conv","id":"9bIual^%bSUPq(mE:$T8"}]}